<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-type" content="text/html;charset=utf-8">
  <link rel="stylesheet" type="text/css" href="css/gollum.css" media="all">
  <link rel="stylesheet" type="text/css" href="css/editor.css" media="all">
  <link rel="stylesheet" type="text/css" href="css/dialog.css" media="all">
  <link rel="stylesheet" type="text/css" href="css/template.css" media="all">
  
  <!--[if IE 7]>
  <link rel="stylesheet" type="text/css" href="css/ie7.css" media="all">
  <![endif]-->
  
  <script type="text/javascript" src="css/jquery.js"></script>
  <script type="text/javascript" src="css/gollum.js"></script>
  <script type="text/javascript" src="css/gollum.dialog.js"></script>
  <script type="text/javascript" src="css/gollum.placeholder.js"></script>
  
  <script type="text/javascript" 
    src="css/editor/gollum.editor.js"></script>
  <title>OrientDB Implementation</title>
</head>
<body>

<div id="wiki-wrapper" class="page">
<div id="head"><h3><a href="../../index.html">TinkerPop 2.4.0</a> - <a href="Home.html">Blueprints</a></h3>
  <h1>OrientDB Implementation</h1>
  <ul class="actions">
    <li class="minibutton"><a href="/pages"
      class="action-all-pages">All Pages</a></li>
    <li class="minibutton" class="jaws">
      <a href="#" id="minibutton-new-page">New Page</a></li>
    <li class="minibutton"><a href="/edit/OrientDB-Implementation"
       class="action-edit-page">Edit Page</a></li>
    <li class="minibutton"><a href="/history/OrientDB-Implementation"
       class="action-page-history">Page History</a></li>
  </ul>
  <div id="searchbar">
    <form action="/search" method="get" id="search-form">
    <div id="searchbar-fauxtext">
      <input type="text" name="q" id="search-query" value="Search&hellip;" autocomplete="off">
      <a href="#" id="search-submit" title="Search this wiki">
        <span>Search</span>
      </a>
    </div>
    </form>
  </div></div>
<div id="wiki-content">
  <div class="wrap">
  <div id="wiki-body" class="gollum-textile-content">
    <div id="template">
      <p><img src="images/orientdb-logo.png" alt="" /></p>
<pre><code>&lt;dependency&gt;
   &lt;groupId&gt;com.tinkerpop.blueprints&lt;/groupId&gt;
   &lt;artifactId&gt;blueprints-orient-graph&lt;/artifactId&gt;
   &lt;version&gt;??&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
<pre><code>// OPEN THE GRAPH 'tinkerpop' ON LOCAL FILE SYSTEM
Graph localGraph = new OrientGraph("local:/tmp/tinkerpop");

// OPEN THE GRAPH 'tinkerpop' ON REMOTE SERVER (localhost). THE SERVER COULD RUN IN DISTRIBUTED MODE
Graph remoteGraph = new OrientGraph("remote:localhost/tinkerpop");

// OPEN THE GRAPH 'tinkerpop' CREATING IN MEMORY ONLY
Graph memoryGraph = new OrientGraph("memory:tinkerpop");</code></pre>
<p><a href="http://www.orientechnologies.com/">Orient Technologies</a> are the developers of <a href="http://www.orientdb.org">OrientDB</a>.</p>
<h2>GraphFactory Settings</h2>
<p>If using <a href="https://github.com/tinkerpop/blueprints/wiki/Code-Examples#use-graphfactory">GraphFactory</a> to instantiate a <code>OrientGraph</code>, the following properties will apply:</p>
<table><tr><th>key </th>
		<th>description </th>
	</tr><tr><td> <code>blueprints.graph</code> </td>
		<td> <code>com.tinkerpop.blueprints.impls.orient.OrientGraph</code> </td>
	</tr><tr><td> <code>blueprints.orientdb.url</code> </td>
		<td> The connection <span class="caps">URL</span> for the <code>OrientGraph</code> instance. </td>
	</tr><tr><td> <code>blueprints.orientdb.username</code> </td>
		<td> Username to connect to <code>OrientGraph</code> instance. </td>
	</tr><tr><td> <code>blueprints.orientdb.password</code> </td>
		<td> Password to connect to <code>OrientGraph</code> instance. </td>
	</tr></table><h2>OrientGraph Feature List</h2>
<p>OrientGraph is transactional. This means that as soon as the graph is modified (add and remove vertex/edges, set properties) a new transaction is started automatically and it&#x2019;s committed manually or at the graph shutdown.</p>
<pre><code>supportsDuplicateEdges: true
supportsSelfLoops: true
supportsSerializableObjectProperty: true
supportsBooleanProperty: true
supportsDoubleProperty: true
supportsFloatProperty: true
supportsIntegerProperty: true
supportsPrimitiveArrayProperty: true
supportsUniformListProperty: true
supportsMixedListProperty: true
supportsLongProperty: true
supportsMapProperty: true
supportsStringProperty: true
ignoresSuppliedIds: true
isPersistent: true
isRDFModel: false
isWrapper: false
supportsIndices: true
supportsVertexIndex: true
supportsEdgeIndex: true by default or false if setUseLightweightEdges(false)
supportsKeyIndices: true
supportsVertexKeyIndex: true
supportsEdgeKeyIndex: true by default or false if setUseLightweightEdges(false)
supportsEdgeIteration: true by default or false if setUseLightweightEdges(false)
supportsEdgeRetrieval: true by default or false if setUseLightweightEdges(false)
supportsVertexIteration: true
supportsTransactions: true
supportsThreadedTransactions: false</code></pre>
<h2>Notes on Caching and Concurrency</h2>
<p>By default, <a href="https://github.com/nuvolabase/orientdb/wiki/Caching">OrientDB keeps a per-database instance cache</a> of vertices and their properties. This can cause issues with concurrent access to the database where different threads will receive inconsistent results when querying the database after writes.</p>
<p>A way around this is to disable OrientDB&#x2019;s L1 cache. This option can slow performance when doing certain graph operations. You can do this in code, before you create your graph with:</p>
<pre><code>OGlobalConfiguration.CACHE_LEVEL1_ENABLED.setValue(false);</code></pre>
<p>A more fine grained option is to have Orient force reload vertices when appropriate using ODocument&#x2019;s reload() command:</p>
<pre><code>((ODocument)((OrientVertex)vertex).getRawElement()).reload();</code></pre>
<h2>Custom Types</h2>
<p>OrientDB supports custom types for vertices and edges in an Object Oriented manner. Even if this isn&#x2019;t supported directly by Blueprints there are some tricks to use them. For more information look at <a href="https://github.com/nuvolabase/orientdb/wiki/Graph-Schema">Custom types</a>.</p>
<h2>Other Graph types</h2>
<h3>Non Transactional Graph: OrientGraphNoTx</h3>
<p>OrientGraphNoTx is non transactional. This means that every non idempotent operations against the graph is atomic. Use this implementation to massive import graphs. Example:</p>
<pre><code>// OPEN THE GRAPH 'tinkerpop' ON LOCAL FILE SYSTEM
Graph localGraph = new OrientGraphNoTx("local:/tmp/tinkerpop");</code></pre>
<h2>Retro compatibility</h2>
<p>Since Blueprints 2.4.x the underlying structure used for graphs is changed to be much more lightweight. To open databases created with Blueprints 2.3.x or minor disable the new optimizations right after opened the graph:</p>
<pre><code>OrientGraph graph = new OrientGraph("local:/tmp/tinkerpop");
graph.setUseLightweightEdges(false);
graph.setUseClassForEdgeLabel(false);
graph.setUseClassForVertexLabel(false);
graph.setUseVertexFieldsForEdgeLabels(false);</code></pre>
    </div>
  </div>
  </div>

</div>
<div id="footer">
  <p id="last-edit">Last edited by <b>stephen mallette</b>, 2013-08-03 13:19:14</p>
</div>
</div>

<script type="text/javascript" src="css/MathJax/MathJax.js"></script>


</body>
</html>
